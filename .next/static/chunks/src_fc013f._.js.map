{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/context/ThemeContext.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Theme = \"dark\" | \"light\" | \"system\";\n\ninterface ThemeProviderProps {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n}\n\ninterface ThemeProviderState {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n}\n\nconst initialState: ThemeProviderState = {\n  theme: \"system\",\n  setTheme: () => null,\n};\n\nconst ThemeContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"system\",\n  storageKey = \"vite-ui-theme\",\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(() => {\n    if (typeof window !== 'undefined') {\n      return (localStorage.getItem(storageKey) as Theme) || defaultTheme;\n    }\n    return defaultTheme;\n  });\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove(\"light\", \"dark\");\n\n    if (theme === \"system\") {\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\n        .matches\n        ? \"dark\"\n        : \"light\";\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme);\n      setTheme(theme);\n    },\n  };\n\n  return (\n    <ThemeContext.Provider value={value} {...props}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n\n  if (context === undefined)\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAeA,MAAM,eAAmC;IACvC,OAAO;IACP,UAAU,IAAM;AAClB;AAEA,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAsB;AAEhD,SAAS,cAAc,EAC5B,QAAQ,EACR,eAAe,QAAQ,EACvB,aAAa,eAAe,EAC5B,GAAG,OACgB;;IACnB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS;QACxC,IAAI,OAAO,WAAW,aAAa;YACjC,OAAO,AAAC,aAAa,OAAO,CAAC,eAAyB;QACxD;QACA,OAAO;IACT;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;QAE5C,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;QAE/B,IAAI,UAAU,UAAU;YACtB,MAAM,cAAc,OAAO,UAAU,CAAC,gCACnC,OAAO,GACN,SACA;YAEJ,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB;QACF;QAEA,KAAK,SAAS,CAAC,GAAG,CAAC;IACrB,GAAG;QAAC;KAAM;IAEV,MAAM,QAAQ;QACZ;QACA,UAAU,CAAC;YACT,aAAa,OAAO,CAAC,YAAY;YACjC,SAAS;QACX;IACF;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;QAAQ,GAAG,KAAK;kBAC3C;;;;;;AAGP;GA5CgB;KAAA;AA8CT,MAAM,WAAW;;IACtB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAE3B,IAAI,YAAY,WACd,MAAM,IAAI,MAAM;IAElB,OAAO;AACT;IAPa"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/utils/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst baseURL = typeof process !== 'undefined' && process.env.NEXT_PUBLIC_API_BASE \n  ? process.env.NEXT_PUBLIC_API_BASE \n  : (import.meta.env ? import.meta.env.VITE_API_BASE : 'https://api.kuke.ink');\n\nconst api = axios.create({\n  baseURL: baseURL || 'https://api.kuke.ink',\n  timeout: 60000,\n});\n\n// Add a request interceptor\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport const AUTH_ERROR_EVENT = 'auth_error';\n\nexport const verifyToken = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) return false;\n    \n    // 使用新的axios实例请求，避免触发拦截器的无限循环\n    // Use the same base URL logic as the main api instance\n    const baseURL = api.defaults.baseURL;\n    const response = await axios.get(`${baseURL}/api/auth/me`, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    return response.status === 200;\n  } catch (error) {\n    return false;\n  }\n};\n\napi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    // 用户提到的301错误，以及常见的401/403鉴权错误\n    if (error.response && (error.response.status === 401 || error.response.status === 403 || error.response.status === 301)) {\n      // 不直接退出，而是先验证Token是否真的过期\n      const isTokenValid = await verifyToken();\n      \n      if (!isTokenValid) {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        window.dispatchEvent(new Event(AUTH_ERROR_EVENT));\n        \n        if (typeof window !== 'undefined' && !window.location.pathname.includes('/login')) {\n          window.location.href = '/login?expired=true';\n        }\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\n// --- Security Utils ---\n// In a real world, keeping secret in frontend is not secure.\n// But per user request for \"website encryption algorithm\", we implement it here.\n// Ideally, we should fetch a signed upload URL from backend.\n// But for this task, we follow the instruction to calculate on frontend.\n\nconst UPLOAD_SECRET = \"kuke_upload_secret_2024\"; \n\nexport const generateUploadHeaders = async () => {\n  const timestamp = Math.floor(Date.now() / 1000).toString();\n  const payload = `${timestamp}${UPLOAD_SECRET}`;\n  \n  // Calculate SHA-256\n  const msgBuffer = new TextEncoder().encode(payload);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const signature = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  \n  return {\n    'X-Upload-Signature': signature,\n    'X-Upload-Timestamp': timestamp\n  };\n};\n\nexport default api;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,MAAM,UAAU,OAAO,gKAAA,CAAA,UAAO,KAAK,eAAe,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,oBAAoB,GAC9E,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,oBAAoB,GAC/B,8BAAY,GAAG,GAAG,8BAAY,GAAG,CAAC,aAAa,GAAG;AAEvD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,WAAW;IACpB,SAAS;AACX;AAEA,4BAA4B;AAC5B,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;IACrD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGK,MAAM,mBAAmB;AAEzB,MAAM,cAAc;IACzB,IAAI;QACF,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO,OAAO;QAEnB,6BAA6B;QAC7B,uDAAuD;QACvD,MAAM,UAAU,IAAI,QAAQ,CAAC,OAAO;QACpC,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,YAAY,CAAC,EAAE;YACzD,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,MAAM,CAAC;YAAC;QAC9C;QACA,OAAO,SAAS,MAAM,KAAK;IAC7B,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,8BAA8B;IAC9B,IAAI,MAAM,QAAQ,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,KAAK,OAAO,MAAM,QAAQ,CAAC,MAAM,KAAK,OAAO,MAAM,QAAQ,CAAC,MAAM,KAAK,GAAG,GAAG;QACvH,yBAAyB;QACzB,MAAM,eAAe,MAAM;QAE3B,IAAI,CAAC,cAAc;YACjB,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,aAAa,CAAC,IAAI,MAAM;YAE/B,IAAI,OAAO,WAAW,eAAe,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW;gBACjF,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,yBAAyB;AACzB,6DAA6D;AAC7D,iFAAiF;AACjF,6DAA6D;AAC7D,yEAAyE;AAEzE,MAAM,gBAAgB;AAEf,MAAM,wBAAwB;IACnC,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,MAAM,QAAQ;IACxD,MAAM,UAAU,CAAC,EAAE,UAAU,EAAE,cAAc,CAAC;IAE9C,oBAAoB;IACpB,MAAM,YAAY,IAAI,cAAc,MAAM,CAAC;IAC3C,MAAM,aAAa,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,WAAW;IACzD,MAAM,YAAY,MAAM,IAAI,CAAC,IAAI,WAAW;IAC5C,MAAM,YAAY,UAAU,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;IAE3E,OAAO;QACL,sBAAsB;QACtB,sBAAsB;IACxB;AACF;uCAEe"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/context/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { verifyToken } from '../utils/api';\n\ninterface User {\n  username: string;\n  role: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  loading: boolean; // Add loading state\n  login: (user: User, token: string) => void;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true); // Initialize loading to true\n\n  useEffect(() => {\n    const initAuth = async () => {\n      const storedToken = localStorage.getItem('token');\n      const storedUser = localStorage.getItem('user');\n      \n      if (storedToken && storedUser) {\n        try {\n          // Verify token validity with backend\n          const isValid = await verifyToken();\n          \n          if (isValid) {\n            setToken(storedToken);\n            setUser(JSON.parse(storedUser));\n          } else {\n            // Token is invalid or expired\n            localStorage.removeItem('token');\n            localStorage.removeItem('user');\n            setUser(null);\n            setToken(null);\n          }\n        } catch (e) {\n          console.error(\"Failed to parse stored user data or verify token:\", e);\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          setUser(null);\n          setToken(null);\n        }\n      }\n      setLoading(false);\n    };\n\n    initAuth();\n  }, []);\n\n  const login = (newUser: User, newToken: string) => {\n    setUser(newUser);\n    setToken(newToken);\n    localStorage.setItem('token', newToken);\n    localStorage.setItem('user', JSON.stringify(newUser));\n  };\n\n  const logout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, token, loading, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAgBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,6BAA6B;IAE3E,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW;YACf,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,MAAM,aAAa,aAAa,OAAO,CAAC;YAExC,IAAI,eAAe,YAAY;gBAC7B,IAAI;oBACF,qCAAqC;oBACrC,MAAM,UAAU,MAAM,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD;oBAEhC,IAAI,SAAS;wBACX,SAAS;wBACT,QAAQ,KAAK,KAAK,CAAC;oBACrB,OAAO;wBACL,8BAA8B;wBAC9B,aAAa,UAAU,CAAC;wBACxB,aAAa,UAAU,CAAC;wBACxB,QAAQ;wBACR,SAAS;oBACX;gBACF,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,qDAAqD;oBACnE,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;oBACxB,QAAQ;oBACR,SAAS;gBACX;YACF;YACA,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC,SAAe;QAC5B,QAAQ;QACR,SAAS;QACT,aAAa,OAAO,CAAC,SAAS;QAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,SAAS;QACT,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAS;YAAO;QAAO;kBAChE;;;;;;AAGP;GA1Da;KAAA;AA4DN,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/services/leveling.ts"],"sourcesContent":["import api from '../utils/api';\n\nexport interface LevelInfo {\n  username: string;\n  level: number;\n  current_xp: number;\n  next_level_xp: number;\n  rank: number;\n  progress: {\n    current: number;\n    max: number;\n  };\n}\n\nexport interface CheckInStatus {\n  web: {\n    checked: boolean;\n    streak: number;\n    today_reward: number;\n    bonus_xp?: number;\n    calendar: string[]; // ISO dates\n  };\n  server: {\n    checked: boolean;\n    streak: number;\n  };\n  today_checkin_count: number;\n  today_first_checkin_user?: {\n    username: string;\n    level: number;\n  };\n}\n\nexport interface Task {\n  id: string;\n  name: string;\n  desc: string;\n  progress: number;\n  target: number;\n  completed: boolean;\n  can_claim: boolean;\n  xp: number;\n}\n\nexport const getMyLevelInfo = async (username: string) => {\n  const response = await api.get<LevelInfo>('/api/level/my-info', { params: { username } });\n  return response.data;\n};\n\nexport const getCheckInStatus = async (username: string) => {\n  const response = await api.get<CheckInStatus>('/api/level/check-in/status', { params: { username } });\n  return response.data;\n};\n\nexport const performWebCheckIn = async (username: string) => {\n  const response = await api.post('/api/level/check-in/web', { username });\n  return response.data;\n};\n\nexport const getTasks = async (username: string) => {\n  const response = await api.get<Task[]>('/api/level/tasks', { params: { username } });\n  return response.data;\n};\n\nexport const claimTask = async (username: string, taskId: string) => {\n  const response = await api.post('/api/level/tasks/claim', { username, task_id: taskId });\n  return response.data;\n};\n\nexport interface LeaderboardEntry {\n  username: string;\n  level: number;\n  total_xp: number;\n}\n\nexport const getLeaderboard = async (limit: number = 50) => {\n  const response = await api.get<LeaderboardEntry[]>('/api/level/leaderboard', { params: { limit } });\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;AA4CO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAY,sBAAsB;QAAE,QAAQ;YAAE;QAAS;IAAE;IACvF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,mBAAmB,OAAO;IACrC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAgB,8BAA8B;QAAE,QAAQ;YAAE;QAAS;IAAE;IACnG,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,oBAAoB,OAAO;IACtC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,2BAA2B;QAAE;IAAS;IACtE,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAS,oBAAoB;QAAE,QAAQ;YAAE;QAAS;IAAE;IAClF,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,YAAY,OAAO,UAAkB;IAChD,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,0BAA0B;QAAE;QAAU,SAAS;IAAO;IACtF,OAAO,SAAS,IAAI;AACtB;AAQO,MAAM,iBAAiB,OAAO,QAAgB,EAAE;IACrD,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAqB,0BAA0B;QAAE,QAAQ;YAAE;QAAM;IAAE;IACjG,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/context/LevelContext.tsx"],"sourcesContent":["import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { useAuth } from './AuthContext';\nimport { getMyLevelInfo } from '../services/leveling';\n\nexport interface LevelContextType {\n  level: number | null;\n  loading: boolean;\n  refreshLevel: () => Promise<void>;\n}\n\nconst LevelContext = createContext<LevelContextType | undefined>(undefined);\n\nexport const LevelProvider = ({ children }: { children: ReactNode }) => {\n  const { user } = useAuth();\n  const [level, setLevel] = useState<number | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchLevel = async () => {\n    if (!user) {\n      setLevel(null);\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Don't set loading to true here to avoid flickering if refreshing\n      const info = await getMyLevelInfo(user.username);\n      setLevel(info.level);\n    } catch (error) {\n      console.error('Failed to fetch user level', error);\n      // Don't clear level on error if we already have one, or maybe we should?\n      // For now, keep it simple.\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchLevel();\n  }, [user]);\n\n  return (\n    <LevelContext.Provider value={{ level, loading, refreshLevel: fetchLevel }}>\n      {children}\n    </LevelContext.Provider>\n  );\n};\n\nexport const useLevel = () => {\n  const context = useContext(LevelContext);\n  if (context === undefined) {\n    throw new Error('useLevel must be used within a LevelProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAUA,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAA2B;;IACjE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM;YACT,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI;YACF,mEAAmE;YACnE,MAAM,OAAO,MAAM,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,KAAK,QAAQ;YAC/C,SAAS,KAAK,KAAK;QACrB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,yEAAyE;QACzE,2BAA2B;QAC7B,SAAU;YACR,WAAW;QACb;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC;KAAK;IAET,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAS,cAAc;QAAW;kBACtE;;;;;;AAGP;GAlCa;;QACM,iIAAA,CAAA,UAAO;;;KADb;AAoCN,MAAM,WAAW;;IACtB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ui/Toast.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CheckCircle, AlertCircle, Info, X, AlertTriangle } from 'lucide-react';\nimport { createPortal } from 'react-dom';\n\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\n\nexport interface Toast {\n  id: string;\n  message: string;\n  type: ToastType;\n  duration: number;\n}\n\ninterface ToastItemProps {\n  toast: Toast;\n  onRemove: (id: string) => void;\n}\n\nconst ToastItem: React.FC<ToastItemProps> = ({ toast, onRemove }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onRemove(toast.id);\n    }, toast.duration);\n\n    return () => clearTimeout(timer);\n  }, [toast, onRemove]);\n\n  const icons = {\n    success: <CheckCircle className=\"text-emerald-500\" size={18} />,\n    error: <AlertCircle className=\"text-red-500\" size={18} />,\n    info: <Info className=\"text-blue-500\" size={18} />,\n    warning: <AlertTriangle className=\"text-amber-500\" size={18} />\n  };\n\n  const bgColors = {\n    success: 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800',\n    error: 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800',\n    info: 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800',\n    warning: 'bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800'\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 50, scale: 0.3 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.5, transition: { duration: 0.2 } }}\n      className={`flex items-start gap-2.5 px-3 py-2.5 rounded-lg shadow-lg border backdrop-blur-sm pointer-events-auto ${bgColors[toast.type]} min-w-[240px] max-w-sm`}\n    >\n      <div className=\"shrink-0 mt-0.5\">\n        {icons[toast.type]}\n      </div>\n      <p className=\"flex-1 text-sm font-medium text-slate-700 dark:text-slate-200 line-clamp-3 break-all\">\n        {toast.message}\n      </p>\n      <button\n        onClick={() => onRemove(toast.id)}\n        className=\"shrink-0 p-0.5 -mr-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-slate-400 hover:text-slate-600 dark:hover:text-slate-200\"\n      >\n        <X size={14} />\n      </button>\n    </motion.div>\n  );\n};\n\ninterface ToastContainerProps {\n  toasts: Toast[];\n  removeToast: (id: string) => void;\n}\n\nexport const ToastContainer: React.FC<ToastContainerProps> = ({ toasts, removeToast }) => {\n  if (typeof document === 'undefined') return null;\n\n  return createPortal(\n    <div className=\"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none\">\n      <AnimatePresence mode=\"popLayout\">\n        {toasts.map((toast) => (\n          <ToastItem key={toast.id} toast={toast} onRemove={removeToast} />\n        ))}\n      </AnimatePresence>\n    </div>,\n    document.body\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA,MAAM,YAAsC,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;;IAC9D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,WAAW;YACvB,SAAS,MAAM,EAAE;QACnB,GAAG,MAAM,QAAQ;QAEjB,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAO;KAAS;IAEpB,MAAM,QAAQ;QACZ,uBAAS,6LAAC,8NAAA,CAAA,cAAW;YAAC,WAAU;YAAmB,MAAM;;;;;;QACzD,qBAAO,6LAAC,uNAAA,CAAA,cAAW;YAAC,WAAU;YAAe,MAAM;;;;;;QACnD,oBAAM,6LAAC,qMAAA,CAAA,OAAI;YAAC,WAAU;YAAgB,MAAM;;;;;;QAC5C,uBAAS,6LAAC,2NAAA,CAAA,gBAAa;YAAC,WAAU;YAAiB,MAAM;;;;;;IAC3D;IAEA,MAAM,WAAW;QACf,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,MAAM;QACN,SAAS;YAAE,SAAS;YAAG,GAAG;YAAI,OAAO;QAAI;QACzC,SAAS;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAE;QACtC,MAAM;YAAE,SAAS;YAAG,OAAO;YAAK,YAAY;gBAAE,UAAU;YAAI;QAAE;QAC9D,WAAW,CAAC,sGAAsG,EAAE,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC,uBAAuB,CAAC;;0BAEjK,6LAAC;gBAAI,WAAU;0BACZ,KAAK,CAAC,MAAM,IAAI,CAAC;;;;;;0BAEpB,6LAAC;gBAAE,WAAU;0BACV,MAAM,OAAO;;;;;;0BAEhB,6LAAC;gBACC,SAAS,IAAM,SAAS,MAAM,EAAE;gBAChC,WAAU;0BAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAIjB;GA7CM;KAAA;AAoDC,MAAM,iBAAgD,CAAC,EAAE,MAAM,EAAE,WAAW,EAAE;IACnF,IAAI,OAAO,aAAa,aAAa,OAAO;IAE5C,qBAAO,CAAA,GAAA,oKAAA,CAAA,eAAY,AAAD,gBAChB,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,4LAAA,CAAA,kBAAe;YAAC,MAAK;sBACnB,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;oBAAyB,OAAO;oBAAO,UAAU;mBAAlC,MAAM,EAAE;;;;;;;;;;;;;;cAI9B,SAAS,IAAI;AAEjB;MAba"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/context/ToastContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';\nimport { Toast, ToastContainer, ToastType } from '../components/ui/Toast';\n\ninterface ToastContextType {\n  showToast: (message: string, type?: ToastType, duration?: number) => void;\n  success: (message: string, duration?: number) => void;\n  error: (message: string, duration?: number) => void;\n  info: (message: string, duration?: number) => void;\n  warning: (message: string, duration?: number) => void;\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\n\nexport const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  const removeToast = useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  const showToast = useCallback((message: string, type: ToastType = 'info', duration = 3000) => {\n    const id = Math.random().toString(36).substring(2, 9);\n    setToasts((prev) => [...prev, { id, message, type, duration }]);\n  }, []);\n\n  const success = useCallback((message: string, duration?: number) => showToast(message, 'success', duration), [showToast]);\n  const error = useCallback((message: string, duration?: number) => showToast(message, 'error', duration), [showToast]);\n  const info = useCallback((message: string, duration?: number) => showToast(message, 'info', duration), [showToast]);\n  const warning = useCallback((message: string, duration?: number) => showToast(message, 'warning', duration), [showToast]);\n\n  return (\n    <ToastContext.Provider value={{ showToast, success, error, info, warning }}>\n      {children}\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\n    </ToastContext.Provider>\n  );\n};\n\nexport const useToast = () => {\n  const context = useContext(ToastContext);\n  if (context === undefined) {\n    throw new Error('useToast must be used within a ToastProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAWA,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,MAAM,gBAAmD,CAAC,EAAE,QAAQ,EAAE;;IAC3E,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAEhD,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC/B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;IAC1D,GAAG,EAAE;IAEL,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC,SAAiB,OAAkB,MAAM,EAAE,WAAW,IAAI;QACvF,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;QACnD,UAAU,CAAC,OAAS;mBAAI;gBAAM;oBAAE;oBAAI;oBAAS;oBAAM;gBAAS;aAAE;IAChE,GAAG,EAAE;IAEL,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC,SAAiB,WAAsB,UAAU,SAAS,WAAW,WAAW;QAAC;KAAU;IACxH,MAAM,QAAQ,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC,SAAiB,WAAsB,UAAU,SAAS,SAAS,WAAW;QAAC;KAAU;IACpH,MAAM,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC,SAAiB,WAAsB,UAAU,SAAS,QAAQ,WAAW;QAAC;KAAU;IAClH,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC,SAAiB,WAAsB,UAAU,SAAS,WAAW,WAAW;QAAC;KAAU;IAExH,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAW;YAAS;YAAO;YAAM;QAAQ;;YACtE;0BACD,6LAAC,oIAAA,CAAA,iBAAc;gBAAC,QAAQ;gBAAQ,aAAa;;;;;;;;;;;;AAGnD;GAvBa;KAAA;AAyBN,MAAM,WAAW;;IACtB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ModalPortal.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\ninterface ModalPortalProps {\n  children: React.ReactNode;\n}\n\nconst ModalPortal: React.FC<ModalPortalProps> = ({ children }) => {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n\n  if (!mounted) return null;\n\n  return createPortal(children, document.body);\n};\n\nexport default ModalPortal;\n"],"names":[],"mappings":";;;;;;;;;AAOA,MAAM,cAA0C,CAAC,EAAE,QAAQ,EAAE;;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;QACX,OAAO,IAAM,WAAW;IAC1B,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,qBAAO,CAAA,GAAA,oKAAA,CAAA,eAAY,AAAD,EAAE,UAAU,SAAS,IAAI;AAC7C;GAXM;KAAA;uCAaS"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/ConfirmModal.tsx"],"sourcesContent":["import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { AlertTriangle, X } from 'lucide-react';\n\ninterface ConfirmModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  isDangerous?: boolean;\n}\n\nimport ModalPortal from './ModalPortal';\n\nconst ConfirmModal: React.FC<ConfirmModalProps> = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText = '确定',\n  cancelText = '取消',\n  isDangerous = false\n}) => {\n  return (\n    <ModalPortal>\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-[70] flex items-center justify-center\"\n          >\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95, y: 0 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.95, y: 0 }}\n              onClick={(e) => e.stopPropagation()}\n              className=\"w-full max-w-sm bg-white dark:bg-slate-900 rounded-2xl shadow-2xl overflow-hidden m-4 border border-slate-200 dark:border-slate-800\"\n            >\n              <div className=\"p-6\">\n                <div className=\"flex items-center gap-4 mb-4\">\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${\n                    isDangerous ? 'bg-red-100 text-red-500 dark:bg-red-900/30' : 'bg-amber-100 text-amber-500 dark:bg-amber-900/30'\n                  }`}>\n                    <AlertTriangle size={24} />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-bold text-slate-900 dark:text-white\">\n                      {title}\n                    </h3>\n                  </div>\n                  <button \n                    onClick={onClose}\n                    className=\"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors\"\n                  >\n                    <X size={20} />\n                  </button>\n                </div>\n                \n                <p className=\"text-slate-600 dark:text-slate-300 mb-6 leading-relaxed\">\n                  {message}\n                </p>\n                \n                <div className=\"flex gap-3 justify-end\">\n                  <button\n                    onClick={onClose}\n                    className=\"px-4 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors font-medium\"\n                  >\n                    {cancelText}\n                  </button>\n                  <button\n                    onClick={() => {\n                      onConfirm();\n                      onClose();\n                    }}\n                    className={`px-4 py-2 rounded-lg text-white font-medium transition-colors shadow-sm ${\n                      isDangerous \n                        ? 'bg-red-500 hover:bg-red-600 shadow-red-500/25' \n                        : 'bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/25'\n                    }`}\n                  >\n                    {confirmText}\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n    </ModalPortal>\n  );\n};\n\nexport default ConfirmModal;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAiBA,MAAM,eAA4C,CAAC,EACjD,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,IAAI,EAClB,aAAa,IAAI,EACjB,cAAc,KAAK,EACpB;IACC,qBACE,6LAAC,oIAAA,CAAA,UAAW;kBACZ,cAAA,6LAAC,4LAAA,CAAA,kBAAe;sBACb,wBACC;0BACE,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,SAAS;oBACT,WAAU;8BAEV,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAM,GAAG;wBAAE;wBACzC,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAG,GAAG;wBAAE;wBACtC,MAAM;4BAAE,SAAS;4BAAG,OAAO;4BAAM,GAAG;wBAAE;wBACtC,SAAS,CAAC,IAAM,EAAE,eAAe;wBACjC,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAW,CAAC,iEAAiE,EAChF,cAAc,+CAA+C,mDAC9D,CAAC;sDACA,cAAA,6LAAC,2NAAA,CAAA,gBAAa;gDAAC,MAAM;;;;;;;;;;;sDAEvB,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAG,WAAU;0DACX;;;;;;;;;;;sDAGL,6LAAC;4CACC,SAAS;4CACT,WAAU;sDAEV,cAAA,6LAAC,+LAAA,CAAA,IAAC;gDAAC,MAAM;;;;;;;;;;;;;;;;;8CAIb,6LAAC;oCAAE,WAAU;8CACV;;;;;;8CAGH,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,SAAS;4CACT,WAAU;sDAET;;;;;;sDAEH,6LAAC;4CACC,SAAS;gDACP;gDACA;4CACF;4CACA,WAAW,CAAC,wEAAwE,EAClF,cACI,kDACA,4DACL,CAAC;sDAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrB;KAlFM;uCAoFS"}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/context/ConfirmContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useCallback, ReactNode, useRef } from 'react';\nimport ConfirmModal from '../components/ConfirmModal';\n\ninterface ConfirmOptions {\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  isDangerous?: boolean;\n}\n\ninterface ConfirmContextType {\n  confirm: (options: ConfirmOptions) => Promise<boolean>;\n}\n\nconst ConfirmContext = createContext<ConfirmContextType | undefined>(undefined);\n\nexport const ConfirmProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [options, setOptions] = useState<ConfirmOptions>({\n    title: '',\n    message: '',\n  });\n  \n  const resolveRef = useRef<(value: boolean) => void>(() => {});\n\n  const confirm = useCallback((options: ConfirmOptions) => {\n    setOptions(options);\n    setIsOpen(true);\n    return new Promise<boolean>((resolve) => {\n      resolveRef.current = resolve;\n    });\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    resolveRef.current(false);\n  }, []);\n\n  const handleConfirm = useCallback(() => {\n    setIsOpen(false);\n    resolveRef.current(true);\n  }, []);\n\n  return (\n    <ConfirmContext.Provider value={{ confirm }}>\n      {children}\n      <ConfirmModal\n        isOpen={isOpen}\n        onClose={handleClose}\n        onConfirm={handleConfirm}\n        title={options.title}\n        message={options.message}\n        confirmText={options.confirmText}\n        cancelText={options.cancelText}\n        isDangerous={options.isDangerous}\n      />\n    </ConfirmContext.Provider>\n  );\n};\n\nexport const useConfirm = () => {\n  const context = useContext(ConfirmContext);\n  if (context === undefined) {\n    throw new Error('useConfirm must be used within a ConfirmProvider');\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAeA,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAkC;AAE9D,MAAM,kBAAqD,CAAC,EAAE,QAAQ,EAAE;;IAC7E,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;QACrD,OAAO;QACP,SAAS;IACX;IAEA,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA4B,KAAO;IAE3D,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC3B,WAAW;QACX,UAAU;QACV,OAAO,IAAI,QAAiB,CAAC;YAC3B,WAAW,OAAO,GAAG;QACvB;IACF,GAAG,EAAE;IAEL,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE;QAC9B,UAAU;QACV,WAAW,OAAO,CAAC;IACrB,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD,EAAE;QAChC,UAAU;QACV,WAAW,OAAO,CAAC;IACrB,GAAG,EAAE;IAEL,qBACE,6LAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;QAAQ;;YACvC;0BACD,6LAAC,qIAAA,CAAA,UAAY;gBACX,QAAQ;gBACR,SAAS;gBACT,WAAW;gBACX,OAAO,QAAQ,KAAK;gBACpB,SAAS,QAAQ,OAAO;gBACxB,aAAa,QAAQ,WAAW;gBAChC,YAAY,QAAQ,UAAU;gBAC9B,aAAa,QAAQ,WAAW;;;;;;;;;;;;AAIxC;GA1Ca;KAAA;AA4CN,MAAM,aAAa;;IACxB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/app/providers.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { ThemeProvider } from '@/context/ThemeContext';\nimport { AuthProvider } from '@/context/AuthContext';\nimport { LevelProvider } from '@/context/LevelContext';\nimport { ToastProvider } from '@/context/ToastContext';\nimport { ConfirmProvider } from '@/context/ConfirmContext';\nimport { HelmetProvider } from 'react-helmet-async';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <HelmetProvider>\n      <AuthProvider>\n        <LevelProvider>\n          <ThemeProvider defaultTheme=\"system\" storageKey=\"kukemc-theme\">\n            <ToastProvider>\n              <ConfirmProvider>\n                {children}\n              </ConfirmProvider>\n            </ToastProvider>\n          </ThemeProvider>\n        </LevelProvider>\n      </AuthProvider>\n    </HelmetProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;AAUO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,kKAAA,CAAA,iBAAc;kBACb,cAAA,6LAAC,iIAAA,CAAA,eAAY;sBACX,cAAA,6LAAC,kIAAA,CAAA,gBAAa;0BACZ,cAAA,6LAAC,kIAAA,CAAA,gBAAa;oBAAC,cAAa;oBAAS,YAAW;8BAC9C,cAAA,6LAAC,kIAAA,CAAA,gBAAa;kCACZ,cAAA,6LAAC,oIAAA,CAAA,kBAAe;sCACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;KAhBgB"}},
    {"offset": {"line": 998, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/services/notification.ts"],"sourcesContent":["import api from '../utils/api';\n\nexport interface Notification {\n  id: number;\n  user_id: string;\n  sender_id: string;\n  type: string;\n  target_id: string;\n  is_read: boolean;\n  created_at: string;\n  content_preview?: string;\n}\n\nexport const getNotifications = async () => {\n  const response = await api.get<Notification[]>('/api/notification/');\n  return response.data;\n};\n\nexport const markAsRead = async (id: number) => {\n  const response = await api.post(`/api/notification/read/${id}`);\n  return response.data;\n};\n\nexport const markAllAsRead = async () => {\n  const response = await api.post('/api/notification/read_all');\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;AAaO,MAAM,mBAAmB;IAC9B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAiB;IAC/C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,CAAC,uBAAuB,EAAE,GAAG,CAAC;IAC9D,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB;IAC3B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC;IAChC,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/next/NotificationList.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Bell, Check, MessageSquare, Heart, Image, AtSign, Star, UserPlus } from 'lucide-react';\nimport { getNotifications, markAsRead, markAllAsRead, Notification } from '@/services/notification';\nimport clsx from 'clsx';\nimport { useAuth } from '@/context/AuthContext';\n\nexport const NotificationList = () => {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const { user } = useAuth();\n\n  const fetchNotifications = async () => {\n    if (!user) return;\n    try {\n      const data = await getNotifications();\n      setNotifications(data);\n      setUnreadCount(data.filter(n => !n.is_read).length);\n    } catch (error) {\n      console.error(\"Failed to fetch notifications\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchNotifications();\n    const interval = setInterval(fetchNotifications, 30000); // Poll every 30s\n    return () => clearInterval(interval);\n  }, [user]);\n\n  const handleRead = async (id: number) => {\n    if (!notifications.find(n => n.id === id)?.is_read) {\n        await markAsRead(id);\n        setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\n        setUnreadCount(prev => Math.max(0, prev - 1));\n    }\n  };\n\n  const handleMarkAllRead = async () => {\n    await markAllAsRead();\n    setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\n    setUnreadCount(0);\n  };\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'profile_like': return <Heart className=\"text-red-500\" size={12} />;\n      case 'photo_like': return <Heart className=\"text-pink-500\" size={12} />;\n      case 'profile_message': return <MessageSquare className=\"text-blue-500\" size={12} />;\n      case 'message_reply': return <MessageSquare className=\"text-emerald-500\" size={12} />;\n      case 'photo_comment': return <Image className=\"text-purple-500\" size={12} />;\n      case 'message_like': return <Heart className=\"text-red-400\" size={12} />;\n      case 'ticket_reply': return <MessageSquare className=\"text-brand-500\" size={12} />;\n      case 'mention': return <AtSign className=\"text-emerald-500\" size={12} />;\n      case 'post_like': return <Heart className=\"text-red-500\" size={12} />;\n      case 'post_comment': return <MessageSquare className=\"text-blue-500\" size={12} />;\n      case 'post_collect': return <Star className=\"text-yellow-500\" size={12} />;\n      case 'follow': return <UserPlus className=\"text-indigo-500\" size={12} />;\n      \n      // Missing types that might be used\n      case 'photo_collect': return <Star className=\"text-yellow-500\" size={12} />;\n      case 'album_like': return <Heart className=\"text-pink-500\" size={12} />;\n      case 'album_collect': return <Star className=\"text-yellow-500\" size={12} />;\n      case 'album_comment': return <MessageSquare className=\"text-purple-500\" size={12} />;\n\n      default: \n        // Fuzzy match fallback\n        if (type.includes('like')) return <Heart className=\"text-red-500\" size={12} />;\n        if (type.includes('comment') || type.includes('reply')) return <MessageSquare className=\"text-blue-500\" size={12} />;\n        if (type.includes('collect')) return <Star className=\"text-yellow-500\" size={12} />;\n        if (type.includes('follow')) return <UserPlus className=\"text-indigo-500\" size={12} />;\n        return <Bell size={12} />;\n    }\n  };\n\n  const getActionText = (type: string) => {\n    switch (type) {\n      case 'profile_like': return '赞了你的个人主页';\n      case 'photo_like': return '赞了你的相册';\n      case 'profile_message': return '给你的个人主页留言';\n      case 'message_reply': return '回复了你的留言';\n      case 'photo_comment': return '评论了你的相册';\n      case 'message_like': return '赞了你的留言';\n      case 'ticket_reply': return '回复了你的工单';\n      case 'mention': return '提到了你';\n      case 'post_like': return '赞了你的动态';\n      case 'post_comment': return '评论了你的动态';\n      case 'post_collect': return '收藏了你的动态';\n      case 'follow': return '关注了你';\n\n      // Missing types\n      case 'photo_collect': return '收藏了你的照片';\n      case 'album_like': return '赞了你的相册';\n      case 'album_collect': return '收藏了你的相册';\n      case 'album_comment': return '评论了你的相册';\n\n      default: \n        // Fuzzy match fallback\n        if (type.includes('like')) return '赞了你的内容';\n        if (type.includes('comment')) return '评论了你的内容';\n        if (type.includes('collect')) return '收藏了你的内容';\n        if (type.includes('reply')) return '回复了你';\n        if (type.includes('follow')) return '关注了你';\n        \n        return `有新的通知 (${type})`;\n    }\n  };\n\n  const getLink = (n: Notification) => {\n    switch (n.type) {\n        case 'profile_like': return `/player/${n.sender_id}`;\n        \n        // Need to ensure these query params are handled in Profile.tsx\n        case 'photo_like': return `/player/${n.user_id}?tab=album&photo=${n.target_id}`; \n        case 'photo_comment': return `/player/${n.user_id}?tab=album&photo=${n.target_id}`;\n        case 'photo_collect': return `/player/${n.user_id}?tab=album&photo=${n.target_id}`;\n\n        case 'album_like': \n        case 'album_collect': \n        case 'album_comment': \n            return `/player/${n.user_id}?tab=albums`;\n        \n        case 'profile_message': return `/player/${n.user_id}?msg=${n.target_id}`;\n        case 'message_reply': return `/player/${n.user_id}?msg=${n.target_id}`;\n        case 'message_like': return `/player/${n.user_id}?msg=${n.target_id}`;\n        \n        case 'ticket_reply': return `/tickets?id=${n.target_id}`;\n\n        case 'mention': \n        case 'post_like':\n        case 'post_comment':\n        case 'post_collect':\n            return `/activity/${n.target_id}`;\n            \n        case 'follow':\n            return `/player/${n.sender_id}`;\n            \n        default: \n             // Fuzzy match\n            if (n.type.includes('album') || n.type.includes('photo')) {\n                return `/player/${n.user_id}?tab=albums`;\n            }\n            if (n.type.includes('post')) {\n                return `/activity/${n.target_id}`;\n            }\n            \n            // Default fallback to sender's profile if nothing else matches\n            if (n.sender_id && n.sender_id !== 'system') {\n                return `/player/${n.sender_id}`;\n            }\n            return '#';\n    }\n  };\n\n  if (!user) return null;\n\n  return (\n    <div className=\"relative z-50\">\n      <button \n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\"\n      >\n        <Bell size={20} className={clsx(\"text-slate-600 dark:text-slate-300\", unreadCount > 0 && \"animate-pulse-slow\")} />\n        {unreadCount > 0 && (\n          <span className=\"absolute top-0 right-0 w-4 h-4 bg-red-500 text-white text-[10px] flex items-center justify-center rounded-full shadow-sm\">\n            {unreadCount > 9 ? '9+' : unreadCount}\n          </span>\n        )}\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <>\n            <div className=\"fixed inset-0 z-40\" onClick={() => setIsOpen(false)} />\n            <motion.div\n              initial={{ opacity: 0, y: 10, scale: 0.95 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: 10, scale: 0.95 }}\n              className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50 max-h-[480px] flex flex-col\"\n            >\n              <div className=\"px-3 py-2.5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm shrink-0\">\n                <h3 className=\"font-bold text-slate-800 dark:text-slate-200 text-sm\">通知</h3>\n                {unreadCount > 0 && (\n                  <button \n                    onClick={handleMarkAllRead}\n                    className=\"text-[10px] px-1.5 py-0.5 rounded bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 transition-colors flex items-center gap-1\"\n                  >\n                    <Check size={10} /> 全部已读\n                  </button>\n                )}\n              </div>\n              \n              <div className=\"overflow-y-auto flex-1 p-1 space-y-0.5 custom-scrollbar\">\n                {notifications.length === 0 ? (\n                  <div className=\"p-8 text-center text-slate-400 text-xs\">\n                    暂无通知\n                  </div>\n                ) : (\n                  notifications.map(n => (\n                    <div \n                      key={n.id}\n                      className={clsx(\n                        \"relative group p-2 rounded-lg transition-all duration-200 border border-transparent cursor-pointer\",\n                        !n.is_read ? \"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-900/30\" : \"hover:bg-slate-50 dark:hover:bg-slate-800/50\"\n                      )}\n                      onClick={() => handleRead(n.id)}\n                    >\n                      <Link href={getLink(n)} className=\"flex gap-2.5 items-start\">\n                        <div className=\"mt-0.5 flex-shrink-0 relative\">\n                           {n.sender_id === 'system' ? (\n                             <div className=\"w-8 h-8 rounded-lg shadow-sm bg-slate-100 dark:bg-slate-800 flex items-center justify-center\">\n                               <Bell size={14} className=\"text-slate-500\" />\n                             </div>\n                           ) : (\n                             <img \n                               src={`https://cravatar.eu/helmavatar/${n.sender_id}/32.png`} \n                               className=\"w-8 h-8 rounded-lg shadow-sm\"\n                               alt={n.sender_id}\n                             />\n                           )}\n                           <div className=\"absolute -bottom-1 -right-1 bg-white dark:bg-slate-900 rounded-full p-[2px] shadow-sm ring-1 ring-white dark:ring-slate-900\">\n                             {getIcon(n.type)}\n                           </div>\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-xs text-slate-800 dark:text-slate-200 font-medium truncate\">\n                            <span className=\"font-bold\">{n.sender_id}</span>\n                            <span className=\"font-normal ml-1 text-slate-500 dark:text-slate-400\">{getActionText(n.type)}</span>\n                          </p>\n                          {n.content_preview && (\n                            <p className=\"text-xs text-slate-500 dark:text-slate-400 line-clamp-1 mt-0.5\">\n                              {n.content_preview}\n                            </p>\n                          )}\n                          <p className=\"text-[10px] text-slate-400 mt-1\">\n                            {new Date(n.created_at).toLocaleString()}\n                          </p>\n                        </div>\n                      </Link>\n                      {!n.is_read && (\n                        <div className=\"absolute top-2.5 right-2.5 w-1.5 h-1.5 bg-emerald-500 rounded-full\" />\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1632, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1637, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/services/follow.ts"],"sourcesContent":["import api from '../utils/api';\nimport { FollowStats, Author } from '../types/activity';\n\nexport const followUser = async (username: string) => {\n  const response = await api.post(`/api/users/${username}/follow`);\n  return response.data;\n};\n\nexport const unfollowUser = async (username: string) => {\n  const response = await api.delete(`/api/users/${username}/follow`);\n  return response.data;\n};\n\nexport const getFollowStats = async (username: string) => {\n  const response = await api.get<FollowStats>(`/api/users/${username}/follow/stats`, {\n    params: { _t: Date.now() }\n  });\n  return response.data;\n};\n\nexport const getFollowers = async (username: string, page = 1) => {\n  const response = await api.get<{ data: Author[]; total: number; page: number }>(`/api/users/${username}/followers`, {\n    params: { page }\n  });\n  return response.data;\n};\n\nexport const getFollowing = async (username: string, page = 1) => {\n  const response = await api.get<{ data: Author[]; total: number; page: number }>(`/api/users/${username}/following`, {\n    params: { page }\n  });\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAGO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,SAAS,OAAO,CAAC;IAC/D,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,SAAS,OAAO,CAAC;IACjE,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAc,CAAC,WAAW,EAAE,SAAS,aAAa,CAAC,EAAE;QACjF,QAAQ;YAAE,IAAI,KAAK,GAAG;QAAG;IAC3B;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO,UAAkB,OAAO,CAAC;IAC3D,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAkD,CAAC,WAAW,EAAE,SAAS,UAAU,CAAC,EAAE;QAClH,QAAQ;YAAE;QAAK;IACjB;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,eAAe,OAAO,UAAkB,OAAO,CAAC;IAC3D,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAG,CAAC,GAAG,CAAkD,CAAC,WAAW,EAAE,SAAS,UAAU,CAAC,EAAE;QAClH,QAAQ;YAAE;QAAK;IACjB;IACA,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 1679, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1684, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/next/UserProfileCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  User as UserIcon, \n  LogOut, \n  LayoutDashboard, \n  ChevronRight,\n  Shield,\n  FileText,\n  MessageCircle,\n  Settings\n} from 'lucide-react';\nimport { useAuth } from '@/context/AuthContext';\nimport { getFollowStats } from '@/services/follow';\nimport { getMyLevelInfo } from '@/services/leveling';\n\ninterface UserProfileCardProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport const UserProfileCard = ({ isOpen, onClose }: UserProfileCardProps) => {\n  const { user, logout } = useAuth();\n  const [stats, setStats] = useState({ followers: 0, following: 0 });\n  const [levelInfo, setLevelInfo] = useState<{ level: number; current_xp: number; next_level_xp: number } | null>(null);\n\n  useEffect(() => {\n    if (isOpen && user) {\n      const fetchData = async () => {\n        try {\n          const [followData, levelData] = await Promise.all([\n            getFollowStats(user.username),\n            getMyLevelInfo(user.username)\n          ]);\n          setStats({\n            followers: followData.followers_count,\n            following: followData.following_count\n          });\n          setLevelInfo(levelData);\n        } catch (error) {\n          console.error('Failed to fetch user data:', error);\n        }\n      };\n      fetchData();\n    }\n  }, [isOpen, user]);\n\n  if (!user) return null;\n\n  const containerVariants = {\n    hidden: { \n      opacity: 0, \n      y: 15, \n      scale: 0.95,\n      x: \"-50%\",\n      transition: { \n        duration: 0.2\n      }\n    },\n    visible: { \n      opacity: 1, \n      y: 0, \n      scale: 1,\n      x: \"-50%\",\n      transition: { \n        type: \"spring\", \n        stiffness: 350, \n        damping: 25,\n        staggerChildren: 0.05,\n        delayChildren: 0.1\n      }\n    },\n    exit: { \n      opacity: 0, \n      y: 10, \n      scale: 0.95,\n      x: \"-50%\",\n      transition: { duration: 0.2 }\n    }\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, x: -10 },\n    visible: { \n      opacity: 1, \n      x: 0,\n      transition: { type: \"spring\", stiffness: 300, damping: 24 }\n    }\n  };\n\n  const statVariants = {\n    hidden: { opacity: 0, y: 10 },\n    visible: { \n      opacity: 1, \n      y: 0,\n      transition: { type: \"spring\", stiffness: 300, damping: 24 }\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          variants={containerVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"exit\"\n          className=\"absolute top-full left-1/2 mt-2 w-80 z-50 origin-top\"\n          onMouseLeave={onClose}\n        >\n          <div className=\"bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 dark:border-slate-700/50 overflow-hidden ring-1 ring-black/5 dark:ring-white/10\">\n            {/* 顶部背景图 - 高度调整，颜色更浅更贴合主题 */}\n            <div className=\"h-24 relative overflow-hidden group\">\n               {/* 主背景渐变 - 更浅的蓝青色系 */}\n               <div className=\"absolute inset-0 bg-gradient-to-br from-sky-300 via-blue-400 to-indigo-400 dark:from-blue-800 dark:via-indigo-800 dark:to-purple-900\"></div>\n               \n               {/* 噪点纹理叠加 */}\n               <div className=\"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-40 mix-blend-overlay\"></div>\n               \n               {/* 装饰性网格 */}\n               <div className=\"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:20px_20px] [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] opacity-30\"></div>\n\n               {/* 动态光晕与几何图形 - 改为蓝紫色系点缀 */}\n               <motion.div \n                 animate={{ \n                   y: [0, -20, 0],\n                   x: [0, 10, 0],\n                   rotate: [0, 10, 0],\n                   opacity: [0.3, 0.6, 0.3],\n                 }}\n                 transition={{ \n                   duration: 8, \n                   repeat: Infinity,\n                   ease: \"easeInOut\" \n                 }}\n                 className=\"absolute -top-10 -right-10 w-48 h-48 bg-blue-400/30 rounded-full blur-3xl mix-blend-screen\"\n               />\n               <motion.div \n                 animate={{ \n                   y: [0, 15, 0],\n                   x: [0, -10, 0],\n                   scale: [1, 1.1, 1],\n                   opacity: [0.2, 0.5, 0.2],\n                 }}\n                 transition={{ \n                   duration: 10, \n                   repeat: Infinity,\n                   ease: \"easeInOut\",\n                   delay: 1\n                 }}\n                 className=\"absolute top-10 -left-10 w-40 h-40 bg-purple-400/30 rounded-full blur-3xl mix-blend-screen\"\n               />\n\n               {/* 悬浮的装饰圆环 */}\n               <motion.div\n                 animate={{ rotate: 360 }}\n                 transition={{ duration: 20, repeat: Infinity, ease: \"linear\" }}\n                 className=\"absolute top-4 right-8 w-16 h-16 border border-white/10 rounded-full border-dashed opacity-30\"\n               />\n               \n               {/* 右上角的小标签（可选） */}\n               <div className=\"absolute top-4 right-4 bg-white/10 backdrop-blur-md border border-white/20 rounded-full px-2 py-0.5 text-[10px] text-white/80 font-medium\">\n                  KukeMC\n               </div>\n            </div>\n\n            <div className=\"px-6 pb-6 relative\">\n              {/* 头像 - 居中且放大 */}\n              <div className=\"relative -mt-12 mb-4 flex justify-center\">\n                <motion.div \n                  initial={{ scale: 0.8, opacity: 0 }}\n                  animate={{ scale: 1, opacity: 1 }}\n                  transition={{ delay: 0.1, type: \"spring\", stiffness: 300, damping: 20 }}\n                  className=\"relative group cursor-pointer\"\n                >\n                    <div className=\"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full blur opacity-40 group-hover:opacity-75 transition duration-500\"></div>\n                    <Link href={`/player/${user.username}`}>\n                        <img \n                            src={`https://cravatar.eu/helmavatar/${user.username}/128.png`} \n                            alt={user.username}\n                            className=\"w-24 h-24 rounded-full border-[5px] border-white dark:border-slate-900 relative z-10 bg-white dark:bg-slate-800 transition-transform duration-300 group-hover:scale-105 shadow-lg\"\n                        />\n                    </Link>\n                    {user.role === 'admin' && (\n                        <motion.div \n                          initial={{ scale: 0 }}\n                          animate={{ scale: 1 }}\n                          transition={{ delay: 0.3, type: \"spring\" }}\n                          className=\"absolute bottom-1 right-1 bg-gradient-to-br from-yellow-300 to-yellow-500 text-yellow-900 p-1.5 rounded-full border-2 border-white dark:border-slate-900 z-20 shadow-sm\" \n                          title=\"管理员\"\n                        >\n                            <Shield size={14} fill=\"currentColor\" />\n                        </motion.div>\n                    )}\n                </motion.div>\n              </div>\n\n              {/* 用户名和等级 - 居中布局 */}\n              <motion.div variants={itemVariants} className=\"text-center mb-6\">\n                <Link href={`/player/${user.username}`} className=\"inline-flex items-center gap-2 group\">\n                    <span className=\"text-xl font-bold text-slate-800 dark:text-white group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors\">\n                      {user.username}\n                    </span>\n                    {levelInfo && (\n                        <span className=\"px-2 py-0.5 rounded-full bg-gradient-to-r from-emerald-500/10 to-teal-500/10 dark:from-emerald-400/20 dark:to-teal-400/20 text-emerald-600 dark:text-emerald-300 text-xs font-bold font-mono border border-emerald-100 dark:border-emerald-800/50\">\n                            Lv.{levelInfo.level}\n                        </span>\n                    )}\n                </Link>\n                \n                {/* 社交数据 - 增加交互动效 */}\n                <div className=\"flex justify-center items-center gap-6 mt-3 text-sm\">\n                    <motion.div variants={statVariants} whileHover={{ scale: 1.1 }} className=\"flex flex-col items-center cursor-pointer group\">\n                        <span className=\"font-bold text-slate-900 dark:text-white text-base group-hover:text-emerald-500 transition-colors\">{stats.following}</span>\n                        <span className=\"text-slate-500 dark:text-slate-400 text-xs font-medium\">关注</span>\n                    </motion.div>\n                    <div className=\"w-px h-8 bg-slate-100 dark:bg-slate-800\"></div>\n                    <motion.div variants={statVariants} whileHover={{ scale: 1.1 }} className=\"flex flex-col items-center cursor-pointer group\">\n                        <span className=\"font-bold text-slate-900 dark:text-white text-base group-hover:text-emerald-500 transition-colors\">{stats.followers}</span>\n                        <span className=\"text-slate-500 dark:text-slate-400 text-xs font-medium\">粉丝</span>\n                    </motion.div>\n                    <div className=\"w-px h-8 bg-slate-100 dark:bg-slate-800\"></div>\n                    <motion.div variants={statVariants} whileHover={{ scale: 1.1 }} className=\"flex flex-col items-center cursor-pointer group\">\n                        <span className=\"font-bold text-slate-900 dark:text-white text-base group-hover:text-emerald-500 transition-colors\">0</span>\n                        <span className=\"text-slate-500 dark:text-slate-400 text-xs font-medium\">动态</span>\n                    </motion.div>\n                </div>\n              </motion.div>\n\n              {/* 等级进度条 */}\n              {levelInfo && (\n                <motion.div variants={itemVariants} className=\"mb-6 group\">\n                    <div className=\"flex justify-between text-xs mb-2 text-slate-500 dark:text-slate-400 font-medium\">\n                        <span>经验进度</span>\n                        <span className=\"font-mono text-slate-700 dark:text-slate-300\">{levelInfo.current_xp} / {levelInfo.next_level_xp}</span>\n                    </div>\n                    <div className=\"h-2.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden p-[2px]\">\n                        <motion.div \n                            initial={{ width: 0 }}\n                            animate={{ width: `${(levelInfo.current_xp / levelInfo.next_level_xp) * 100}%` }}\n                            transition={{ duration: 1.2, ease: \"circOut\", delay: 0.2 }}\n                            className=\"h-full rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 relative overflow-hidden\"\n                        >\n                            <div className=\"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]\"></div>\n                        </motion.div>\n                    </div>\n                </motion.div>\n              )}\n\n              {/* 菜单列表 - 依次滑入 */}\n              <div className=\"space-y-1.5 mb-5\">\n                {[\n                  { to: `/player/${user.username}`, icon: UserIcon, label: '个人中心' },\n                  { to: '/dashboard', icon: LayoutDashboard, label: '任务中心' },\n                  { to: '/chat', icon: MessageCircle, label: '在线聊天' },\n                  { to: '/tickets', icon: FileText, label: '我的工单' },\n                  { to: '/settings', icon: Settings, label: '设置' }\n                ].map((item) => (\n                  <motion.div key={item.to} variants={itemVariants}>\n                    <Link \n                      href={item.to} \n                      className=\"flex items-center gap-3 px-3 py-2.5 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all group relative overflow-hidden\"\n                    >\n                        <div className=\"absolute inset-0 bg-emerald-50 dark:bg-emerald-900/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                        <item.icon size={18} className=\"group-hover:scale-110 group-hover:text-emerald-500 transition-transform duration-300 relative z-10\" />\n                        <span className=\"font-medium relative z-10\">{item.label}</span>\n                        <ChevronRight size={14} className=\"ml-auto opacity-0 -translate-x-2 group-hover:opacity-50 group-hover:translate-x-0 transition-all duration-300\" />\n                    </Link>\n                  </motion.div>\n                ))}\n              </div>\n\n              <motion.div variants={itemVariants} className=\"h-px bg-slate-100 dark:bg-slate-800 my-2\" />\n\n              {/* 底部操作 - 依次滑入 */}\n              <div className=\"space-y-1.5\">\n                <motion.button \n                    variants={itemVariants}\n                    onClick={() => { logout(); onClose(); }}\n                    className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all group text-left relative overflow-hidden\"\n                >\n                    <LogOut size={18} className=\"group-hover:-translate-x-1 transition-transform\" />\n                    <span className=\"font-medium\">退出登录</span>\n                </motion.button>\n              </div>\n\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2400, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2405, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/components/next/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { \n  Menu, \n  X, \n  Home, \n  Users, \n  Ban, \n  BarChart3, \n  Map as MapIcon,\n  MessageSquare,\n  Shirt,\n  Megaphone,\n  Activity,\n  Heart,\n  BookOpen,\n  Radio,\n  MoreHorizontal,\n  ChevronDown,\n  ExternalLink,\n  Ticket,\n  Compass,\n  ClipboardCheck,\n  Sun,\n  Moon,\n  Monitor,\n  MessageCircle\n} from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport clsx from 'clsx';\nimport api from '@/utils/api';\n\nimport { NotificationList } from './NotificationList';\nimport { UserProfileCard } from './UserProfileCard';\nimport { useAuth } from '@/context/AuthContext';\nimport { useTheme } from '@/context/ThemeContext';\n\ninterface NavLinkItem {\n  name: string;\n  path: string;\n  icon: any;\n  relatedPaths?: string[];\n  external?: boolean;\n}\n\n// Extract NavItem component to prevent re-creation on each render (fixes animation reset)\nconst NavItem = ({ link, isMobile = false, isActive }: { link: NavLinkItem, isMobile?: boolean, isActive: boolean }) => {\n  const Icon = link.icon;\n  \n  const content = (\n    <>\n      <div className=\"relative z-10 flex items-center gap-2\">\n        <Icon size={isMobile ? 20 : 18} className={clsx(isActive && !isMobile ? \"text-blue-600 dark:text-blue-400\" : \"\")} />\n        <span className={clsx(isActive && !isMobile ? \"font-semibold text-blue-600 dark:text-blue-400\" : \"\")}>{link.name}</span>\n        {link.external && (\n          <ExternalLink size={12} className={clsx(\"opacity-50\", isActive ? \"text-blue-600 dark:text-blue-400\" : \"\")} />\n        )}\n      </div>\n      {isActive && !isMobile && (\n        <motion.div\n          layoutId=\"navbar-indicator\"\n          className=\"absolute inset-0 bg-blue-50 dark:bg-blue-900/20 rounded-lg -z-0\"\n          transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\n        />\n      )}\n    </>\n  );\n\n  const className = clsx(\n    'relative px-3 py-2 rounded-xl text-sm font-medium transition-colors duration-200 flex items-center gap-2 group',\n    isMobile \n      ? 'w-full p-3 text-base'\n      : 'hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50',\n    isActive\n      ? isMobile ? 'bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400' : ''\n      : 'text-slate-600 dark:text-slate-300'\n  );\n\n  if (link.external) {\n    return (\n      <a\n        href={link.path}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={className}\n      >\n        {content}\n      </a>\n    );\n  }\n\n  return (\n    <Link href={link.path} className={className}>\n      {content}\n    </Link>\n  );\n};\n\nconst Navbar = () => {\n  const { theme, setTheme } = useTheme();\n  const [isOpen, setIsOpen] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n  const [showMore, setShowMore] = useState(false);\n  const { user, logout } = useAuth();\n  const pathname = usePathname();\n  const [ticketCount, setTicketCount] = useState(0);\n  const [showProfileCard, setShowProfileCard] = useState(false);\n  const closeTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const cycleTheme = () => {\n    if (theme === \"light\") setTheme(\"dark\");\n    else if (theme === \"dark\") setTheme(\"system\");\n    else setTheme(\"light\");\n  };\n\n  const ThemeIcon = {\n    light: Sun,\n    dark: Moon,\n    system: Monitor\n  }[theme] || Sun;\n\n  const handleMouseEnter = () => {\n    if (closeTimeoutRef.current) {\n      clearTimeout(closeTimeoutRef.current);\n      closeTimeoutRef.current = null;\n    }\n    setShowProfileCard(true);\n  };\n\n  const handleMouseLeave = () => {\n    closeTimeoutRef.current = setTimeout(() => {\n      setShowProfileCard(false);\n    }, 200);\n  };\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrolled(window.scrollY > 20);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    if (user?.role === 'admin') {\n      const fetchCount = async () => {\n        try {\n          const res = await api.get('/api/feedback/stats/unprocessed_count');\n          if (res.data.ok) setTicketCount(res.data.count);\n        } catch (e) {}\n      };\n      fetchCount();\n      const interval = setInterval(fetchCount, 60000);\n      return () => clearInterval(interval);\n    }\n  }, [user]);\n\n  // Close mobile menu when route changes\n  useEffect(() => {\n    setIsOpen(false);\n    setShowMore(false);\n  }, [pathname]);\n\n  const primaryLinks: NavLinkItem[] = [\n    { name: '首页', path: '/', icon: Home },\n    { name: '动态', path: '/activity', icon: Compass },\n    { name: '公告', path: '/news', icon: Megaphone, relatedPaths: ['/changelog'] },\n    { name: '众议', path: '/consensus', icon: ClipboardCheck },\n    { name: '玩家', path: '/players', icon: Users },\n    { name: '封禁', path: '/bans', icon: Ban },\n    { name: '统计', path: '/stats', icon: BarChart3 },\n  ];\n\n  const secondaryLinks: NavLinkItem[] = [\n    { name: '工单', path: '/tickets', icon: Ticket },\n    { name: '聊天', path: '/chat', icon: MessageCircle },\n    { name: '监控', path: '/monitor', icon: Activity },\n    { name: '留言', path: '/messages', icon: MessageSquare },\n    { name: '皮肤', path: '/skin', icon: Shirt },\n    { name: '文档', path: 'https://www.yuque.com/0ctber/kukemc-server/', icon: BookOpen, external: true },\n    { name: '地图', path: 'https://map.kuke.ink', icon: MapIcon, external: true },\n    { name: '状态', path: 'https://status.kuke.ink', icon: Radio, external: true },\n    { name: '鸣谢', path: '/thanks', icon: Heart },\n  ];\n\n  const allLinks = [...primaryLinks, ...secondaryLinks];\n\n  // Check if any secondary link is active\n  const isMoreActive = secondaryLinks.some(link => \n    pathname === link.path || (link.relatedPaths && link.relatedPaths.includes(pathname))\n  );\n\n  return (\n    <nav\n      className={clsx(\n        'fixed top-0 w-full z-40 transition-all duration-300 border-b border-transparent',\n        scrolled ? 'bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 py-2 shadow-sm' : 'bg-transparent py-4'\n      )}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-12\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-3 group relative z-50\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-blue-500/20 blur-xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\n              <img \n                src=\"https://m.ccw.site/gandi_application/user_assets/2a6bb37880317d2bb5525ab560618e04.png\" \n                alt=\"KukeMC Logo\" \n                className=\"h-9 w-9 relative z-10 transition-transform duration-300 group-hover:scale-105\"\n              />\n            </div>\n            <span className=\"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500 dark:from-blue-400 dark:to-cyan-300\">\n              KukeMC\n            </span>\n          </Link>\n\n          {/* Desktop Nav */}\n          <div className=\"hidden lg:flex items-center gap-1\">\n            <div className=\"flex items-center gap-1\">\n              {primaryLinks.map((link) => {\n                 const isActive = pathname === link.path || (link.relatedPaths?.includes(pathname) ?? false);\n                 return <NavItem key={link.path} link={link} isActive={isActive} />;\n              })}\n              \n              {/* More Menu Dropdown */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowMore(!showMore)}\n                  onBlur={() => setTimeout(() => setShowMore(false), 200)}\n                  className={clsx(\n                    'relative px-3 py-2 rounded-xl text-sm font-medium transition-colors duration-200 flex items-center gap-2 group outline-none',\n                    isMoreActive ? 'text-blue-600 dark:text-blue-400' : 'text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50'\n                  )}\n                >\n                  <div className=\"relative z-10 flex items-center gap-2\">\n                    <MoreHorizontal size={18} />\n                    <span>更多</span>\n                    <ChevronDown size={14} className={clsx(\"transition-transform duration-200\", showMore ? \"rotate-180\" : \"\")} />\n                  </div>\n                  {isMoreActive && (\n                    <motion.div\n                      layoutId=\"navbar-indicator\"\n                      className=\"absolute inset-0 bg-blue-50 dark:bg-blue-900/20 rounded-lg -z-0\"\n                    />\n                  )}\n                </button>\n\n                <AnimatePresence>\n                  {showMore && (\n                    <motion.div\n                      initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                      animate={{ opacity: 1, y: 0, scale: 1 }}\n                      exit={{ opacity: 0, y: 10, scale: 0.95 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden py-1 z-50\"\n                    >\n                      {secondaryLinks.map((link) => {\n                        const isActive = pathname === link.path || (link.relatedPaths?.includes(pathname) ?? false);\n                        return (\n                        <Link\n                          key={link.path}\n                          href={link.external ? '#' : link.path}\n                          onClick={(e) => {\n                            if (link.external) {\n                              e.preventDefault();\n                              window.open(link.path, '_blank');\n                            }\n                          }}\n                          className={clsx(\n                            \"flex items-center gap-3 px-4 py-2.5 text-sm font-medium transition-colors\",\n                            isActive\n                              ? \"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400\"\n                              : \"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-white\"\n                          )}\n                        >\n                          <div className=\"flex items-center gap-2 flex-1\">\n                            <link.icon size={16} />\n                            {link.name}\n                            {link.path === '/tickets' && ticketCount > 0 && (\n                              <span className=\"ml-auto bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center\">\n                                {ticketCount}\n                              </span>\n                            )}\n                          </div>\n                          {link.external && <ExternalLink size={12} className=\"opacity-50\" />}\n                        </Link>\n                        );\n                      })}\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </div>\n            </div>\n          </div>\n\n          {/* Right Actions */}\n          <div className=\"hidden lg:flex items-center gap-3 pl-4\">\n             <button\n                onClick={cycleTheme}\n                className=\"p-2 rounded-xl text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\"\n             >\n                <ThemeIcon size={20} />\n             </button>\n             <NotificationList />\n             <div className=\"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1\" />\n            {user ? (\n              <div \n                className=\"relative\"\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n              >\n                <Link href={`/player/${user.username}`} className=\"flex items-center gap-3 pl-1 py-2\">\n                  <div className=\"flex items-center gap-3 rounded-xl pl-1 pr-4 py-1 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors\">\n                    <img \n                      src={`https://cravatar.eu/helmavatar/${user.username}/32.png`} \n                      alt={user.username}\n                      className=\"w-8 h-8 rounded-lg ring-2 ring-white dark:ring-slate-800\"\n                    />\n                    <span className=\"text-sm font-bold text-slate-700 dark:text-slate-200 leading-none\">{user.username}</span>\n                  </div>\n                </Link>\n                <UserProfileCard isOpen={showProfileCard} onClose={() => setShowProfileCard(false)} />\n              </div>\n            ) : (\n              <Link\n                href=\"/login\"\n                className=\"group relative px-6 py-2 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-sm font-bold transition-all hover:shadow-lg hover:shadow-blue-500/25 hover:-translate-y-0.5\"\n              >\n                <span>登录</span>\n                <div className=\"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-400 to-cyan-400 opacity-0 group-hover:opacity-20 transition-opacity\" />\n              </Link>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <div className=\"lg:hidden flex items-center gap-3\">\n            <button\n              onClick={cycleTheme}\n              className=\"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white focus:outline-none\"\n            >\n              <ThemeIcon size={20} />\n            </button>\n            <NotificationList />\n            <button\n              onClick={() => setIsOpen(!isOpen)}\n              className=\"p-2 rounded-xl bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white focus:outline-none\"\n            >\n              {isOpen ? <X size={24} /> : <Menu size={24} />}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"lg:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 shadow-xl overflow-hidden\"\n          >\n            <div className=\"px-4 py-6 space-y-6 max-h-[80vh] overflow-y-auto\">\n              {user ? (\n                 <div className=\"flex items-center gap-4 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-700/50\">\n                    <Link \n                      href={`/player/${user.username}`}\n                      onClick={() => setIsOpen(false)}\n                      className=\"flex items-center gap-4 flex-1\"\n                    >\n                      <img \n                        src={`https://cravatar.eu/helmavatar/${user.username}/64.png`} \n                        alt={user.username}\n                        className=\"w-12 h-12 rounded-xl shadow-sm\"\n                      />\n                      <div className=\"flex-1\">\n                        <div className=\"font-bold text-lg text-slate-900 dark:text-white\">{user.username}</div>\n                        <div className=\"text-xs text-slate-500 dark:text-slate-400\">点击查看个人主页</div>\n                      </div>\n                    </Link>\n                    <button \n                      onClick={logout} \n                      className=\"px-4 py-2 rounded-lg bg-red-50 text-red-600 text-sm font-medium\"\n                    >\n                      退出\n                    </button>\n                 </div>\n              ) : (\n                <div className=\"p-4 rounded-2xl bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-100 dark:border-blue-900/30\">\n                   <h3 className=\"font-bold text-slate-900 dark:text-white mb-2\">欢迎来到 KukeMC</h3>\n                   <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-4\">登录以访问更多功能</p>\n                   <Link\n                    href=\"/login\"\n                    onClick={() => setIsOpen(false)}\n                    className=\"block w-full py-3 rounded-xl bg-blue-600 text-white font-bold text-center shadow-lg shadow-blue-500/20\"\n                  >\n                    立即登录\n                  </Link>\n                </div>\n              )}\n\n              <div className=\"space-y-1\">\n                <div className=\"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3 pl-2\">菜单</div>\n                {allLinks.map((link) => {\n                   const isActive = pathname === link.path || (link.relatedPaths?.includes(pathname) ?? false);\n                   return <NavItem key={link.path} link={link} isMobile={true} isActive={isActive} />;\n                })}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}