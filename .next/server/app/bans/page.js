(()=>{var e={};e.id=923,e.ids=[923],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},83720:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(13640),s(12701),s(35866);var r=s(23191),a=s(88716),l=s(37922),i=s.n(l),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["bans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13640)),"D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\bans\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,12701)),"D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\编程\\KukeMC-Website\\KukeMC-WebSite\\src\\app\\bans\\page.tsx"],x="/bans/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/bans/page",pathname:"/bans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},52955:(e,t,s)=>{Promise.resolve().then(s.bind(s,74827))},11890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},32130:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},74827:(e,t,s)=>{"use strict";s.d(t,{default:()=>g});var r=s(10326),a=s(17577),l=s(90434),i=s(24846),n=s(30123),o=s(88307),d=s(32130),c=s(48998);let x=(0,s(62881).Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var u=s(11890),p=s(39183),m=s(41135),h=s(33385);let g=()=>{let[e,t]=(0,a.useState)(null),[s,g]=(0,a.useState)(!0),[b,v]=(0,a.useState)(1),[f,j]=(0,a.useState)(""),[k,y]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=setTimeout(()=>{y(f),v(1)},500);return()=>clearTimeout(e)},[f]),(0,a.useEffect)(()=>{(async()=>{g(!0);try{let e=await h.ZP.get("/api/banlist",{params:{page:b,per_page:20,search:k}});t(e.data)}catch(e){console.error("Error fetching ban list:",e)}finally{g(!1)}})()},[b,k]);let N=e=>{if(!e||"forever"===e)return null;try{let t=e.replace(/(\.\d+)/,"").replace(/\s+([+-])/,"$1"),s=new Date(t);if(isNaN(s.getTime())&&/[+-]\d{4}$/.test(t)){let e=t.replace(/([+-])(\d{2})(\d{2})$/,"$1$2:$3");s=new Date(e)}if(isNaN(s.getTime()))return null;return s}catch{return null}},w=e=>{let t=N(e);return t?new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t):"forever"===e?"永久":e},q=(e,t)=>{if("forever"===t)return"永久";let s=N(e),r=N(t);if(!s||!r)return"未知";let a=Math.floor((r.getTime()-s.getTime())/1e3);if(a<60)return`${a}秒`;let l=Math.floor(a/60);if(l<60)return`${l}分钟`;let i=Math.floor(l/60);if(i<24)return`${i}小时`;let n=Math.floor(i/24);if(n<30)return`${n}天`;let o=Math.floor(n/30);return o<12?`${o}个月`:`${Math.floor(n/365)}年`},C=t=>{t>=1&&t<=(e?.pages||1)&&(v(t),window.scrollTo({top:0,behavior:"smooth"}))};return r.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[r.jsx(i.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"inline-flex items-center justify-center p-3 bg-red-500/10 rounded-full mb-4",children:r.jsx(n.Z,{className:"w-8 h-8 text-red-500"})}),r.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4 transition-colors duration-300",children:"封禁列表"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 transition-colors duration-300",children:"服务器违规玩家公示"})]}),r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"relative max-w-md mx-auto",children:[r.jsx("input",{type:"text",placeholder:"搜索玩家名称...",value:f,onChange:e=>j(e.target.value),className:"w-full bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg py-3 pl-12 pr-4 text-slate-900 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all duration-300 placeholder-slate-400 dark:placeholder-slate-500"}),r.jsx(o.Z,{className:"absolute left-4 top-3.5 text-slate-400 dark:text-slate-500",size:20})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-slate-900/50 backdrop-blur-md rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm transition-colors duration-300",children:s?r.jsx("div",{className:"p-12 flex justify-center",children:r.jsx(i.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-red-500 border-t-transparent rounded-full"})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50/80 dark:bg-slate-950/80 text-slate-500 dark:text-slate-400 uppercase tracking-wider font-medium backdrop-blur-sm transition-colors duration-300",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-5",children:"玩家"}),r.jsx("th",{className:"px-6 py-5",children:"封禁原因"}),r.jsx("th",{className:"px-6 py-5",children:"执行人"}),r.jsx("th",{className:"px-6 py-5",children:"时间/时长"}),r.jsx("th",{className:"px-6 py-5",children:"状态"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800 transition-colors duration-300",children:e?.data.map(e=>r.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs(l.default,{href:`/player/${e.name}`,className:"flex items-center space-x-3 group",children:[r.jsx("img",{src:`https://cravatar.eu/helmavatar/${e.name}/40.png`,alt:e.name,className:"w-10 h-10 rounded-lg shadow-sm group-hover:ring-2 group-hover:ring-red-500/50 transition-all",onError:e=>{e.target.src="https://cravatar.eu/helmavatar/MHF_Steve/40.png"}}),r.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-200 group-hover:text-red-500 transition-colors duration-300",children:e.name})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-300 transition-colors duration-300",children:[r.jsx(d.Z,{size:16,className:"text-slate-400 dark:text-slate-500"}),e.reason]})}),r.jsx("td",{className:"px-6 py-4 text-slate-500 dark:text-slate-400 transition-colors duration-300",children:r.jsxs("div",{className:"flex items-center gap-2",children:[e.banned_by_name&&!["Console","控制台"].includes(e.banned_by_name)?r.jsx("img",{src:`https://cravatar.eu/helmavatar/${e.source}/40.png`,alt:e.source,className:"w-6 h-6 rounded-md",onError:e=>{e.target.src="https://cravatar.eu/helmavatar/MHF_Steve/40.png"}}):r.jsx(d.Z,{className:"w-6 h-6"}),e.banned_by_name||"Console"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 dark:text-slate-400 text-xs transition-colors duration-300",title:e.created,children:[r.jsx(c.Z,{size:14}),w(e.created)]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 dark:text-slate-500 text-xs",children:[r.jsx(x,{size:14}),"forever"===e.expires?"永久":q(e.created,e.expires)]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:m.Z("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",e.active?"bg-red-500/10 text-red-400 border-red-500/20":"bg-green-500/10 text-green-400 border-green-500/20"),children:e.active?"封禁中":"已解封"})})]},e.id))})]})}),e&&e.pages>1&&(0,r.jsxs)("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between transition-colors duration-300",children:[(0,r.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-400 transition-colors duration-300",children:["第 ",e.current_page," 页，共 ",e.pages," 页"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>C(b-1),disabled:1===b,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 dark:text-slate-400 transition-colors duration-200",children:r.jsx(u.Z,{size:20})}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[b>2&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:()=>C(1),className:"w-8 h-8 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200",children:"1"}),b>3&&r.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"..."})]}),b>1&&r.jsx("button",{onClick:()=>C(b-1),className:"w-8 h-8 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200",children:b-1}),r.jsx("button",{className:"w-8 h-8 rounded-lg bg-red-500 text-white",children:b}),b<e.pages&&r.jsx("button",{onClick:()=>C(b+1),className:"w-8 h-8 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200",children:b+1}),b<e.pages-1&&(0,r.jsxs)(r.Fragment,{children:[b<e.pages-2&&r.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"..."}),r.jsx("button",{onClick:()=>C(e.pages),className:"w-8 h-8 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors duration-200",children:e.pages})]})]}),r.jsx("button",{onClick:()=>C(b+1),disabled:b===e.pages,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 dark:text-slate-400 transition-colors duration-200",children:r.jsx(p.Z,{size:20})})]})]})]})})]})})})}},13640:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(19510),a=s(71159);let l=(0,s(68570).createProxy)(String.raw`D:\编程\KukeMC-Website\KukeMC-WebSite\src\components\next\BanListClient.tsx#default`),i={title:"封禁列表 - KukeMC",description:"查看 KukeMC 服务器违规玩家公示及封禁记录。"};function n(){return r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})}),children:r.jsx(l,{})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[856,136],()=>s(83720));module.exports=r})();