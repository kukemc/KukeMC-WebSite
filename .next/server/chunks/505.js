exports.id=505,exports.ids=[505],exports.modules={92818:(e,t,s)=>{Promise.resolve().then(s.bind(s,50810))},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},70717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},77506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},50810:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(10326),l=s(17577),i=s(35047),r=s(24846),n=s(88129),c=s(52679),d=s(70717),x=s(77506),o=s(41291),m=s(37358),h=s(79635),p=s(39183),u=s(40765);let j=(0,s(62881).Z)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);var y=s(33385),v=s(41135);let f=({initialTab:e="news"})=>{(0,i.usePathname)();let t=(0,i.useRouter)(),[s,f]=(0,l.useState)(e);(0,l.useEffect)(()=>{f(e)},[e]);let[b,g]=(0,l.useState)([]),[N,k]=(0,l.useState)(!0),[w,Z]=(0,l.useState)(null),[z,S]=(0,l.useState)([]),[M,C]=(0,l.useState)(!0),[E,D]=(0,l.useState)(null);return(0,l.useEffect)(()=>{y.ZP.get("/api/website/news/").then(e=>{g(e.data),k(!1)}).catch(e=>{console.error(e),Z("无法加载公告内容"),k(!1)}),y.ZP.get("/api/website/changelog/").then(e=>{S(e.data),C(!1)}).catch(e=>{console.error(e),D("无法加载更新日志"),C(!1)})},[]),a.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto relative z-10",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4 transition-colors duration-300",children:["资讯",a.jsx("span",{className:"text-gradient",children:"中心"})]}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg transition-colors duration-300 mb-8",children:"了解服务器最新动态、活动信息与开发进程"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"bg-slate-100 dark:bg-slate-800/50 p-1.5 rounded-xl inline-flex relative",children:[{id:"news",label:"游戏公告",icon:c.Z},{id:"changelog",label:"更新日志",icon:d.Z}].map(e=>(0,a.jsxs)("button",{onClick:()=>{f(e.id),t.push("news"===e.id?"/news":"/changelog")},className:(0,v.Z)("relative px-6 py-2.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2 z-10",s===e.id?"text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"),children:[s===e.id&&a.jsx(r.E.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white dark:bg-slate-700 shadow-sm rounded-lg -z-10",transition:{type:"spring",bounce:.2,duration:.6}}),a.jsx(e.icon,{size:16}),e.label]},e.id))})})]}),a.jsx(n.M,{mode:"wait",children:"news"===s?a.jsx(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:N?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[a.jsx(x.Z,{size:40,className:"animate-spin mb-4 text-emerald-500"}),a.jsx("p",{children:"正在获取最新公告..."})]}):w?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-red-400",children:[a.jsx(o.Z,{size:40,className:"mb-4 opacity-50"}),a.jsx("p",{children:w})]}):a.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:0===b.length?a.jsx("div",{className:"text-center text-slate-500 py-12",children:"暂无公告"}):b.map((e,s)=>a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},onClick:()=>{t.push(`/news/${e.id}`)},className:"glass-panel p-6 rounded-2xl relative overflow-hidden cursor-pointer hover:bg-white/50 dark:hover:bg-slate-800/50 transition-all duration-300 group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(c.Z,{size:20,className:"text-emerald-500"}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white group-hover:text-emerald-500 transition-colors",children:e.title})]}),(0,a.jsxs)("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-sm pl-8",children:[a.jsx(m.Z,{size:14,className:"mr-2"}),a.jsx("span",{className:"mr-4",children:new Date(e.created_at).toLocaleDateString()}),a.jsx(h.Z,{size:14,className:"mr-2"}),a.jsx("span",{children:e.author})]})]}),a.jsx(p.Z,{className:"text-slate-300 group-hover:text-emerald-500 transition-colors"})]})},e.id))},"list")},"news-panel"):a.jsx(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:M?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[a.jsx(x.Z,{size:40,className:"animate-spin mb-4 text-emerald-500"}),a.jsx("p",{children:"正在获取最新更新日志..."})]}):E?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-red-400",children:[a.jsx(o.Z,{size:40,className:"mb-4 opacity-50"}),a.jsx("p",{children:E})]}):(0,a.jsxs)("div",{className:"space-y-8 relative before:absolute before:left-[27px] before:top-6 before:bottom-6 before:w-0.5 before:bg-slate-200 dark:before:bg-slate-800",children:[z.map((e,t)=>(0,a.jsxs)(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"relative pl-16",children:[a.jsx("div",{className:"absolute left-0 top-6 w-14 flex justify-center",children:a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 ring-4 ring-emerald-500/20 dark:ring-emerald-500/10"})}),(0,a.jsxs)("div",{className:"glass-panel p-6 rounded-2xl relative overflow-hidden transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 border-b border-slate-200 dark:border-white/10 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2 sm:mb-0",children:[a.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-lg text-emerald-600 dark:text-emerald-400",children:a.jsx(u.Z,{size:20})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.version})]}),(0,a.jsxs)("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-sm",children:[a.jsx(m.Z,{size:16,className:"mr-2"}),new Date(e.created_at).toLocaleDateString()]})]}),a.jsx("ul",{className:"space-y-3",children:Array.isArray(e.content)?e.content.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start text-slate-700 dark:text-slate-300 group",children:[a.jsx(j,{size:18,className:"mr-3 mt-1 text-emerald-500 shrink-0 group-hover:text-emerald-400 transition-colors"}),a.jsx("span",{children:e})]},t)):a.jsx("li",{className:"text-slate-700 dark:text-slate-300",children:String(e.content)})})]})]},e.id)),0===z.length&&a.jsx("div",{className:"text-center text-slate-500 py-12 pl-16",children:"暂无更新日志"})]})},"changelog-panel")})]})})}},52366:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\编程\KukeMC-Website\KukeMC-WebSite\src\components\next\NewsClient.tsx#default`)}};